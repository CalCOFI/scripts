---
title: "Load `plot_labels` from Google Sheet"
author: "Ben Best"
date: "`r Sys.Date()`"
output: 
  html_document:
    toc: true
    toc_float: true
    code_folding: show
editor_options: 
  chunk_output_type: console
---

```{r setup, include=FALSE}
source(here::here("libs/rmd.R")) # defines function: time_it
knitr::opts_chunk$set(
  echo = TRUE, warning = F, message = F, time_chunk = TRUE)
```

## Load Google Sheet into `plot_labels`

* Google Sheet: [CalCOFI plot_labels - Google Sheets](https://docs.google.com/spreadsheets/d/1ghM30pIdcsun7XWzLRKh4EilUplN60YdHayfiilPFwE/edit?pli=1#gid=0)

```{r plot_labels}
# packages
source(here::here("libs/db.R")) # defines variables: con, dir_gdrive
librarian::shelf(
  googlesheets4, knitr)

# google sheet
gsheet <- "https://docs.google.com/spreadsheets/d/1ghM30pIdcsun7XWzLRKh4EilUplN60YdHayfiilPFwE/edit"

# no need to authenticate since shared for anyone to view
gs4_deauth() 

# read data
d <- read_sheet(gsheet)

# write to database
dbWriteTable(con, "plot_labels", d, overwrite=T)

# show table
kable(d)
```
